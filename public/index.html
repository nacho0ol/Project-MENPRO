<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home - Olivia Meat</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <nav class="navbar">
      <div class="container nav-content">
        <a href="index.html" class="logo">
          <img src="uploads/LOGO.png" alt="Logo">
          <span>Olivia Meat N Fresh</span>
        </a>

        <div class="nav-links">
          <a href="#katalog">Produk</a>
          <a href="#tentang">Tentang Kami</a>
          <a href="#footer-area">Kontak Kami</a>
        </div>

        <div class="nav-icons">
          <a href="cart.html" title="Keranjang"><i class="fas fa-shopping-cart"></i></a>
          <a href="profile.html" title="Akun Saya"><i class="fas fa-user"></i></a>
          <a href="login.html" class="logout-btn" onclick="return confirm('Yakin ingin keluar?')" title="Keluar">
             <i class="fas fa-sign-out-alt"></i> Keluar
          </a>
        </div>
      </div>
    </nav>

    <div class="container">
      <section class="hero-section">
        <div class="hero-banner">
          <div class="hero-text">
            <h1>Daging Segar <br />Kualitas Premium</h1>
            <p>Langsung dari peternakan terbaik, diantar beku ke rumah Anda.</p>
            <a href="#katalog" class="btn-cta">Belanja Sekarang <i class="fas fa-arrow-right"></i></a>
          </div>
          <div class="hero-image">
            <img
              src="https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?auto=format&fit=crop&w=500&q=80"
              alt="Daging Segar"
            />
          </div>
        </div>
      </section>

      <section id="katalog">
        <h2 class="section-title">Pilihan Terbaik</h2>
        <div class="product-grid" id="productGrid">
          <p style="text-align: center; grid-column: 1/-1; padding: 40px;">Memuat produk...</p>
        </div>
      </section>

      <section id="tentang">
        <h2 class="section-title">Tentang Kami</h2>
        <div class="about-box">
            <i class="fas fa-quote-left" style="font-size: 2rem; color: #ddd; margin-bottom: 20px;"></i>
            <p style="line-height: 1.8; color: #555;">
                <strong>OLIVIA Meat 'n Fresh</strong> hadir untuk memenuhi kebutuhan protein keluarga Anda. 
                Kami menjamin setiap potongan daging yang Anda terima adalah 100% Halal, Higienis, dan Fresh.
                Berasal dari sapi lokal pilihan yang dipotong dengan syariat Islam.
            </p>
        </div>
      </section>
    </div>

    <footer id="footer-area">
        <div class="container footer-content">
            <div class="footer-col">
                <h3>Olivia Meat</h3>
                <p>Supplier daging terpercaya sejak 2024. Kualitas adalah prioritas utama kami.</p>
                <br>
                <ul>
                    <li><i class="fas fa-map-marker-alt"></i> Jl. Kaliurang Km 5, Yogyakarta</li>
                    <li><i class="fas fa-phone"></i> (0274) 123456</li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Akses Cepat</h3>
                <ul>
                    <li><a href="#katalog">Katalog Produk</a></li>
                    <li><a href="profile.html">Cek Pesanan</a></li>
                    <li><a href="#tentang">Info Toko</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Hubungi Kami</h3>
                <p>Ikuti kami untuk promo terbaru:</p>
                <div class="social-links">
                    <a href="https://wa.me/6281234567890" target="_blank" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    <a href="https://instagram.com" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="https://tiktok.com" target="_blank" title="TikTok"><i class="fab fa-tiktok"></i></a>
                    <a href="mailto:hello@oliviameat.com" title="Email"><i class="fas fa-envelope"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            &copy; 2024 Olivia Meat. Dibuat dengan sepenuh hati.
        </div>
    </footer>

    <script>
      // Fetch semua produk dari database via API
      async function loadProducts() {
        try {
          const response = await fetch('/api/products');
          const result = await response.json();
          
          if (result.success && result.data && result.data.length > 0) {
            const productGrid = document.getElementById('productGrid');
            productGrid.innerHTML = ''; // Hapus loading text
            
            result.data.forEach(product => {
              const imgUrl = product.filepath || 'https://images.unsplash.com/photo-1588168333986-5078d3ae3976?auto=format&fit=crop&w=500&q=60';
              
              const productCard = document.createElement('a');
              productCard.href = `product.html?id=${product.idProduk}`;
              productCard.className = 'product-card';
              productCard.innerHTML = `
                <img src="${imgUrl}" style="width: 100%; height: 200px; object-fit: cover" alt="${product.namaProduk}" />
                <div class="card-info">
                  <div class="card-title">${product.namaProduk}</div>
                  <div class="card-price">Rp ${parseInt(product.harga).toLocaleString('id-ID')}</div>
                </div>
              `;
              productGrid.appendChild(productCard);
            });
          } else {
            document.getElementById('productGrid').innerHTML = '<p style="text-align: center; grid-column: 1/-1; padding: 40px;">Produk tidak tersedia</p>';
          }
        } catch (error) {
          console.error('Error loading products:', error);
          document.getElementById('productGrid').innerHTML = '<p style="text-align: center; grid-column: 1/-1; padding: 40px; color: red;">Gagal memuat produk</p>';
        }
      }
      
      // Load produk saat halaman terbuka
      document.addEventListener('DOMContentLoaded', loadProducts);
    </script>
  </body>
</html>